<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Second Story: Code, Narrative, and Opportunity</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Neutrals & Hopeful Accents -->
    <!-- Application Structure Plan: The application is designed as a single-page, narrative-driven journey. It guides the user from understanding the systemic problem (The Crisis), to learning about the innovative solution (The Model), seeing how it works (The Journey), visualizing the results (The Impact), and finally being presented with a clear call to action (Join Us). This storytelling structure is more persuasive and emotionally engaging than a standard report layout, making the case for support more compelling for potential funders and partners by transforming data into a story of challenge and hope. -->
    <!-- Visualization & Content Choices: Data from the report is transformed into interactive visualizations to make complex information digestible. GOAL: Compare -> VIZ: Bar charts (Chart.js) to show disparities in recidivism and unemployment. GOAL: Inform -> VIZ: Dynamic counters for large financial numbers and donut charts for key percentages (90% placement). GOAL: Explain Process -> VIZ: An interactive, tabbed HTML/CSS component to show the three-phase apprentice journey. GOAL: Organize -> VIZ: An interactive bar chart for budget allocation that allows users to toggle between years. This approach avoids dense tables and uses interaction to allow users to drill down into details, respecting their attention while providing depth. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap');
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 300px;
            margin: auto;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-width: 450px;
            }
        }
        .section-title {
            font-size: 1.875rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-subtitle {
            font-size: 1.125rem;
            color: #64748b;
            margin-bottom: 2rem;
            text-align: center;
            max-width: 48rem;
            margin-left: auto;
            margin-right: auto;
        }
        .stat-card {
            background-color: white;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            text-align: center;
            transition: transform 0.3s ease;
        }
        .stat-card:hover {
            transform: scale(1.05);
        }
        .stat-number {
            font-size: 2.25rem;
            font-weight: 800;
            color: #0284c7;
        }
        .stat-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: #64748b;
            margin-top: 0.5rem;
        }
        .nav-link {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            transition: color 0.2s ease;
        }
        .nav-link:hover {
            color: #0284c7;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-700">

    <header id="header" class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm border-b border-slate-200">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-slate-800">Second Story</a>
            <div class="hidden md:flex items-center">
                <a href="#problem" class="nav-link">The Crisis</a>
                <a href="#solution" class="nav-link">Our Model</a>
                <a href="#journey" class="nav-link">The Journey</a>
                <a href="#impact" class="nav-link">Our Impact</a>
                <a href="#join-us" class="nav-link bg-sky-600 text-white rounded-lg hover:bg-sky-700 hover:text-white">Join Us</a>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="text-slate-700 focus:outline-none" aria-label="Toggle mobile menu" title="Toggle mobile menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#problem" class="block py-2 px-4 text-sm hover:bg-slate-100">The Crisis</a>
            <a href="#solution" class="block py-2 px-4 text-sm hover:bg-slate-100">Our Model</a>
            <a href="#journey" class="block py-2 px-4 text-sm hover:bg-slate-100">The Journey</a>
            <a href="#impact" class="block py-2 px-4 text-sm hover:bg-slate-100">Our Impact</a>
            <a href="#join-us" class="block py-2 px-4 text-sm hover:bg-slate-100">Join Us</a>
        </div>
    </header>

    <main>
        <section id="hero" class="relative text-center py-20 md:py-32 bg-white">
            <div class="container mx-auto px-6">
                <h1 class="text-4xl md:text-6xl font-extrabold text-slate-800 leading-tight mb-4">A New Chapter Awaits.</h1>
                <p class="text-lg md:text-xl text-slate-600 max-w-4xl mx-auto italic">
                    "Second Story unlocks the potential of justice-impacted individuals by providing elite software engineering apprenticeships and empowering them to reclaim their narratives. We build pathways to economic mobility and challenge public perceptions, creating a world where a past conviction does not define a future of contribution."
                </p>
            </div>
        </section>

        <section id="problem" class="py-16 lg:py-24">
            <div class="container mx-auto px-6">
                <h2 class="section-title">The Crisis of the Revolving Door</h2>
                <p class="section-subtitle">
                    The cycle of incarceration is driven by systemic barriers that prevent successful reentry. Formerly incarcerated individuals face staggering unemployment rates and a "Digital Cliff"—a profound lack of tech skills needed for today's economy. This section visualizes the core challenges we exist to solve.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                    <div class="stat-card">
                        <span id="unemployment-stat" class="stat-number">27%</span>
                        <p class="stat-label">Unemployment Rate for Formerly Incarcerated (vs. ~5% for general pop.)</p>
                    </div>
                    <div class="stat-card">
                        <span id="rearrest-stat" class="stat-number">83%</span>
                        <p class="stat-label">Rearrest Rate Within 9 Years of Release</p>
                    </div>
                     <div class="stat-card">
                        <span id="cost-stat" class="stat-number">$48B</span>
                        <p class="stat-label">Annual Cost of U.S. State and Federal Prisons</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
                        <h3 class="text-xl font-bold text-slate-800 mb-3 text-center">Employment Halts Recidivism</h3>
                        <p class="text-slate-600 text-center mb-4 text-sm">This chart shows the dramatic impact of stable employment. Securing a job for just one year drops the three-year recidivism rate by over two-thirds, proving that a good job is the most effective intervention.</p>
                        <div class="chart-container">
                            <canvas id="employmentRecidivismChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-200">
                        <h3 class="text-xl font-bold text-slate-800 mb-3 text-center">The "Digital Cliff"</h3>
                         <p class="text-slate-600 mb-4 text-sm">Individuals reentering society today face a world transformed by technology. Without access to the internet or modern devices while incarcerated, they lack the fundamental digital literacy needed for modern life—from applying for jobs to banking online.</p>
                        <div class="space-y-4 text-slate-700">
                             <div class="flex items-start">
                                <span class="text-sky-600 font-bold mr-3 mt-1">&#10003;</span>
                                <p>This digital illiteracy is a direct barrier to finding employment, accessing services, and reintegrating into the community.</p>
                            </div>
                            <div class="flex items-start">
                                <span class="text-sky-600 font-bold mr-3 mt-1">&#10003;</span>
                                <p>It isolates returning citizens, multiplying the challenges they face and accelerating the path back to incarceration.</p>
                            </div>
                            <div class="flex items-start">
                                <span class="text-sky-600 font-bold mr-3 mt-1">&#10003;</span>
                                <p>Second Story directly addresses this gap, building a bridge across the digital cliff to a future in the tech economy.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="solution" class="py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="section-title">The Dual-Track Model: Code + Story</h2>
                <p class="section-subtitle">
                    A high-paying job is essential, but it's not enough. Our innovative model uniquely combines two powerful, mutually reinforcing tracks. Technical skills get our apprentices the interview; narrative skills empower them to succeed in it and thrive in their careers.
                </p>
                <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                    <div class="border-2 border-slate-200 p-8 rounded-lg text-center h-full">
                        <div class="text-5xl mb-4">💻</div>
                        <h3 class="text-2xl font-bold text-slate-800 mb-2">The Code</h3>
                        <p class="text-slate-600">Rigorous, market-aligned software engineering training. Apprentices learn a full-stack web development curriculum, build real-world projects for their portfolios, and master the technical skills needed to launch a high-growth career.</p>
                    </div>
                    <div class="border-2 border-slate-200 p-8 rounded-lg text-center h-full">
                         <div class="text-5xl mb-4">🎤</div>
                        <h3 class="text-2xl font-bold text-slate-800 mb-2">The Story</h3>
                        <p class="text-slate-600">Transformative narrative workshops inspired by The Moth. Apprentices learn to craft and perform their personal stories, building communication skills, self-efficacy, and the confidence to reframe their past as a journey of resilience.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="journey" class="py-16 lg:py-24">
            <div class="container mx-auto px-6">
                <h2 class="section-title">The Apprentice Journey</h2>
                <p class="section-subtitle">
                    Our program is a comprehensive, multi-phase journey that takes apprentices from foundational stabilization to career launch and lifelong community support. Click each phase to learn more.
                </p>
                <div class="max-w-5xl mx-auto">
                    <div class="flex border-b border-slate-300">
                        <button data-tab="phase1" class="tab-button flex-1 py-4 px-2 text-center font-semibold text-slate-500 bg-slate-100 border-b-4 border-transparent hover:bg-slate-200 focus:outline-none">Phase 1: Bridge</button>
                        <button data-tab="phase2" class="tab-button flex-1 py-4 px-2 text-center font-semibold text-slate-500 bg-slate-100 border-b-4 border-transparent hover:bg-slate-200 focus:outline-none">Phase 2: Core Program</button>
                        <button data-tab="phase3" class="tab-button flex-1 py-4 px-2 text-center font-semibold text-slate-500 bg-slate-100 border-b-4 border-transparent hover:bg-slate-200 focus:outline-none">Phase 3: Career Launch</button>
                    </div>
                    <div class="mt-8">
                        <div id="phase1" class="tab-content p-6 bg-white rounded-lg shadow-md">
                            <h3 class="text-xl font-bold text-slate-800 mb-2">Recruitment & Bridge Program (2-4 Weeks)</h3>
                            <p class="text-slate-600">We start by identifying high-potential candidates and preparing them for success. This paid, pre-apprenticeship program closes the "Digital Cliff" by teaching foundational digital literacy and professional norms, ensuring everyone starts the core program on a level playing field.</p>
                        </div>
                         <div id="phase2" class="tab-content hidden p-6 bg-white rounded-lg shadow-md">
                            <h3 class="text-xl font-bold text-slate-800 mb-2">Core Apprenticeship (12 Months)</h3>
                            <p class="text-slate-600">The heart of our "earn and learn" model. Apprentices receive a living wage while engaging in our dual-track curriculum. 80% of their time is dedicated to immersive technical training, building real applications. 20% is spent in narrative workshops, honing their personal story and public speaking skills.</p>
                        </div>
                         <div id="phase3" class="tab-content hidden p-6 bg-white rounded-lg shadow-md">
                            <h3 class="text-xl font-bold text-slate-800 mb-2">Job Placement & Alumni Network (Lifelong)</h3>
                            <p class="text-slate-600">Graduation is just the beginning. We provide dedicated placement support, connecting graduates with our network of employer partners. Alumni join a lifelong community for peer support, professional development, and opportunities to mentor the next generation, creating a virtuous cycle of success.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="impact" class="py-16 lg:py-24 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="section-title">Our Projected Impact</h2>
                <p class="section-subtitle">
                   We measure success through transformed lives and communities. Our model is designed to produce dramatic, measurable results in economic mobility and reduced recidivism, creating a powerful return on investment for our partners and society.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="stat-card">
                        <h3 class="text-xl font-bold text-slate-800 mb-3">Goal: Job Placement</h3>
                        <div class="chart-container h-48 sm:h-56">
                            <canvas id="placementRateChart"></canvas>
                        </div>
                        <p class="text-slate-600 text-sm mt-4">Targeting a >90% placement rate for graduates in full-time tech roles within 3 months.</p>
                    </div>
                    <div class="stat-card">
                        <h3 class="text-xl font-bold text-slate-800 mb-3">Goal: Higher Salaries</h3>
                         <div class="chart-container h-48 sm:h-56">
                            <canvas id="salaryChart"></canvas>
                        </div>
                        <p class="text-slate-600 text-sm mt-4">Graduates will earn an average starting salary over $80,000, creating generational wealth.</p>
                    </div>
                    <div class="stat-card md:col-span-2 lg:col-span-1">
                        <h3 class="text-xl font-bold text-slate-800 mb-3">Goal: Reduced Recidivism</h3>
                         <div class="chart-container h-48 sm:h-56">
                            <canvas id="recidivismReductionChart"></canvas>
                        </div>
                        <p class="text-slate-600 text-sm mt-4">We project a recidivism rate under 5%, a >90% reduction from the national average.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="budget" class="py-16 lg:py-24">
            <div class="container mx-auto px-6">
                <h2 class="section-title">Our 2-Year Plan & Budget</h2>
                <p class="section-subtitle">
                    We have a clear, actionable roadmap for launch and growth. The following chart shows our projected allocation of resources. This demonstrates how funding will be strategically used to build our program and serve our first cohort of apprentices.
                </p>
                <div class="max-w-4xl mx-auto bg-white p-6 rounded-xl shadow-lg border border-slate-200">
                    <div class="flex justify-center mb-4">
                        <div class="inline-flex rounded-md shadow-sm">
                            <button id="year1-btn" class="budget-btn relative inline-flex items-center px-4 py-2 rounded-l-md border border-slate-300 bg-sky-600 text-sm font-medium text-white hover:bg-sky-700">Year 1</button>
                            <button id="year2-btn" class="budget-btn -ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-700 hover:bg-slate-50">Year 2</button>
                        </div>
                    </div>
                     <div class="chart-container mx-auto max-w-lg">
                        <canvas id="budgetChart"></canvas>
                    </div>
                    <div id="budget-details" class="mt-6 text-center">
                        <!-- JS will populate this -->
                    </div>
                </div>
            </div>
        </section>

        <section id="join-us" class="py-16 lg:py-24 bg-sky-700 text-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl font-bold mb-4">Become Part of the Story</h2>
                <p class="text-lg text-sky-100 max-w-3xl mx-auto mb-8">
                    We cannot do this alone. We are building an ecosystem of partners committed to creating second chances. Whether you are a potential employer, a community organization, or a donor, you have a role to play.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white/10 p-8 rounded-lg">
                        <h3 class="text-xl font-bold mb-2">Partner with Us</h3>
                        <p class="text-sky-200 mb-4">Become an employer partner and gain access to a pipeline of skilled, resilient, and motivated tech talent.</p>
                        <a href="#" class="inline-block bg-white text-sky-700 font-semibold py-2 px-6 rounded-lg hover:bg-slate-100">Learn More</a>
                    </div>
                     <div class="bg-white/10 p-8 rounded-lg">
                        <h3 class="text-xl font-bold mb-2">Support Us</h3>
                        <p class="text-sky-200 mb-4">Your financial contribution provides the resources—from laptops to living wages—that make our work possible.</p>
                        <a href="#" class="inline-block bg-white text-sky-700 font-semibold py-2 px-6 rounded-lg hover:bg-slate-100">Donate Now</a>
                    </div>
                     <div class="bg-white/10 p-8 rounded-lg">
                        <h3 class="text-xl font-bold mb-2">Get Involved</h3>
                        <p class="text-sky-200 mb-4">Join our network of community partners or mentors to provide the holistic support our apprentices need to thrive.</p>
                        <a href="#" class="inline-block bg-white text-sky-700 font-semibold py-2 px-6 rounded-lg hover:bg-slate-100">Contact Us</a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="bg-slate-800 text-slate-400 py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 Second Story. All rights reserved.</p>
            <p class="text-sm mt-2">A new narrative for justice and technology.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            const mobileMenuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            function animateValue(obj, start, end, duration) {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    let value = Math.floor(progress * (end - start) + start);
                    if (obj.id === 'cost-stat') {
                         obj.innerHTML = `$${value}B`;
                    } else {
                         obj.innerHTML = `${value}%`;
                    }
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            }

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target.id === 'unemployment-stat') animateValue(entry.target, 0, 27, 1500);
                        if (entry.target.id === 'rearrest-stat') animateValue(entry.target, 0, 83, 1500);
                        if (entry.target.id === 'cost-stat') animateValue(entry.target, 0, 48, 1500);
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });
            
            observer.observe(document.getElementById('unemployment-stat'));
            observer.observe(document.getElementById('rearrest-stat'));
            observer.observe(document.getElementById('cost-stat'));


            const chartConfig = {
                plugins: {
                    legend: {
                        labels: {
                            color: '#475569',
                            font: { size: 12 }
                        }
                    },
                    tooltip: {
                        backgroundColor: '#0284c7',
                        titleColor: '#fff',
                        bodyColor: '#fff',
                        callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.raw}%`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: { 
                            color: '#64748b',
                            callback: function(value) { return value + '%' }
                        },
                        grid: { color: '#e2e8f0' }
                    },
                    x: {
                        ticks: { color: '#64748b' },
                        grid: { display: false }
                    }
                },
                maintainAspectRatio: false
            };
            
            const wrapLabels = (label) => {
                const max = 16;
                if (label.length > max) {
                    return label.match(new RegExp('.{1,' + max + '}', 'g'));
                }
                return label;
            };

            new Chart(document.getElementById('employmentRecidivismChart'), {
                type: 'bar',
                data: {
                    labels: ['Unemployed', 'Employed for 1 Year'],
                    datasets: [{
                        label: '3-Year Recidivism Rate',
                        data: [52, 16],
                        backgroundColor: ['#f87171', '#4ade80'],
                        borderColor: ['#ef4444', '#22c55e'],
                        borderWidth: 1
                    }]
                },
                options: { ...chartConfig, scales: {...chartConfig.scales, x: {ticks: {color: '#64748b', callback: function(value) { return wrapLabels(this.getLabelForValue(value)); } } } } }
            });

            new Chart(document.getElementById('placementRateChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Placed in Tech Role', 'Seeking Placement'],
                    datasets: [{
                        label: 'Placement Rate',
                        data: [90, 10],
                        backgroundColor: ['#0ea5e9', '#e2e8f0'],
                        borderColor: '#fff',
                        borderWidth: 4,
                    }]
                },
                options: {
                    plugins: { legend: { display: false }, tooltip: chartConfig.plugins.tooltip },
                    maintainAspectRatio: false,
                    cutout: '70%'
                }
            });

            new Chart(document.getElementById('salaryChart'), {
                type: 'bar',
                data: {
                    labels: ['Average U.S. Salary', 'Second Story Grad'],
                    datasets: [{
                        label: 'Average Starting Salary',
                        data: [56000, 85000],
                        backgroundColor: ['#64748b', '#0ea5e9'],
                        borderWidth: 1
                    }]
                },
                options: { ...chartConfig, plugins: {legend: {display: false}, tooltip: {...chartConfig.plugins.tooltip, callbacks: {label: (c) => `${c.label}: $${c.raw.toLocaleString()}`}}}, scales: {...chartConfig.scales, y: {...chartConfig.scales.y, ticks: {callback: (v) => `$${(v/1000)}k`}}}}
            });
            
            new Chart(document.getElementById('recidivismReductionChart'), {
                type: 'bar',
                data: {
                    labels: ['National Avg. (3-yr)', 'Second Story Goal'],
                    datasets: [{
                        label: 'Recidivism Rate',
                        data: [68, 5],
                        backgroundColor: ['#f87171', '#0ea5e9'],
                        borderWidth: 1
                    }]
                },
                options: { ...chartConfig, plugins: {legend: {display: false}, tooltip: chartConfig.plugins.tooltip} }
            });

            const tabs = document.querySelectorAll('.tab-button');
            const contents = document.querySelectorAll('.tab-content');
            
            const activateTab = (activeTab) => {
                tabs.forEach(tab => {
                    const is_active = tab.dataset.tab === activeTab.dataset.tab;
                    tab.classList.toggle('text-sky-600', is_active);
                    tab.classList.toggle('border-sky-600', is_active);
                    tab.classList.toggle('text-slate-500', !is_active);
                    tab.classList.toggle('border-transparent', !is_active);
                    tab.classList.toggle('bg-white', is_active);
                    tab.classList.toggle('bg-slate-100', !is_active);
                });
                contents.forEach(content => {
                    content.classList.toggle('hidden', content.id !== activeTab.dataset.tab);
                });
            }
            tabs.forEach(tab => tab.addEventListener('click', () => activateTab(tab)));
            activateTab(tabs[0]);

            const budgetData = {
                year1: {
                    labels: ['Program Services', 'Administration', 'Fundraising'],
                    data: [229875, 71000, 16000],
                    total: 316875
                },
                year2: {
                    labels: ['Program Services', 'Administration', 'Fundraising'],
                    data: [523163, 74300, 17270],
                    total: 614733
                }
            };

            const budgetDetails = document.getElementById('budget-details');

            const budgetChart = new Chart(document.getElementById('budgetChart'), {
                type: 'bar',
                data: {
                    labels: budgetData.year1.labels,
                    datasets: [{
                        label: 'Expenses',
                        data: budgetData.year1.data,
                        backgroundColor: ['#0ea5e9', '#64748b', '#94a3b8']
                    }]
                },
                options: {
                    indexAxis: 'y',
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            ...chartConfig.plugins.tooltip,
                             callbacks: {
                                label: function(context) {
                                    return `${context.label}: $${context.raw.toLocaleString()}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: { ticks: { color: '#64748b' }, grid: { display: false } },
                        x: { ticks: { color: '#64748b', callback: (v) => `$${(v/1000)}k` }, grid: { color: '#e2e8f0' } }
                    },
                    maintainAspectRatio: false,
                }
            });
            
            const updateBudgetDetails = (year) => {
                const data = budgetData[year];
                budgetDetails.innerHTML = `<p class="text-slate-600 font-semibold">Total Projected Expenses for ${year.replace('year', 'Year ')}: <span class="text-sky-600">$${data.total.toLocaleString()}</span></p>`;
            }

            const year1Btn = document.getElementById('year1-btn');
            const year2Btn = document.getElementById('year2-btn');
            
            const updateBudgetChart = (year) => {
                budgetChart.data.datasets[0].data = budgetData[year].data;
                budgetChart.update();
                updateBudgetDetails(year);

                const isYear1 = year === 'year1';
                year1Btn.classList.toggle('bg-sky-600', isYear1);
                year1Btn.classList.toggle('text-white', isYear1);
                year1Btn.classList.toggle('bg-white', !isYear1);
                year1Btn.classList.toggle('text-slate-700', !isYear1);
                
                year2Btn.classList.toggle('bg-sky-600', !isYear1);
                year2Btn.classList.toggle('text-white', !isYear1);
                year2Btn.classList.toggle('bg-white', isYear1);
                year2Btn.classList.toggle('text-slate-700', isYear1);
            };

            year1Btn.addEventListener('click', () => updateBudgetChart('year1'));
            year2Btn.addEventListener('click', () => updateBudgetChart('year2'));
            
            updateBudgetChart('year1');

        });
    </script>
</body>
</html>
